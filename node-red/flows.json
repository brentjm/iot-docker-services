[{"id":"e14533de.48e02","type":"tab","label":"PostgreSQL","disabled":false,"info":""},{"id":"72214d68.df13c4","type":"tab","label":"influxdb","disabled":false,"info":""},{"id":"e430760b.27f078","type":"tab","label":"end point","disabled":false,"info":""},{"id":"f1615fd3.1f7d8","type":"postgresdb","z":"","hostname":"postgres","port":"5432","db":"mydatabase","ssl":false},{"id":"b56336c6.4f8bf8","type":"influxdb","z":"","hostname":"influxdb","port":"8086","protocol":"http","database":"mydatabase","name":"","usetls":false,"tls":""},{"id":"780abad0.e5b324","type":"inject","z":"e14533de.48e02","name":"data trigger","topic":"","payload":"","payloadType":"date","repeat":"5","crontab":"","once":true,"onceDelay":"","x":277.0000305175781,"y":379.00000858306885,"wires":[["c1d1ca7a.783e08"]]},{"id":"21fb2d51.ff1ec2","type":"function","z":"e14533de.48e02","name":"prepare query","func":"msg.payload = [\n    {\n        query: 'begin',\n    },\n    {\n        query: 'insert into mytable (timestamp, username, experiment, value) values ($1, $2, $3, $4)',\n        params: [msg.payload[\"timestamp\"], msg.payload[\"username\"], msg.payload[\"experiment\"], msg.payload[\"value\"]],\n    },\n    {\n        query: 'select * from mytable',\n        output: true,\n    },\n    {\n        query: 'commit',\n    },\n];\n\nreturn msg;","outputs":1,"noerr":0,"x":740,"y":380,"wires":[["aaf10a7.b2a88f8"]]},{"id":"aaf10a7.b2a88f8","type":"postgres","z":"e14533de.48e02","postgresdb":"f1615fd3.1f7d8","name":"mydatabase","output":true,"outputs":1,"x":970,"y":380,"wires":[["eb62e24a.56bad"]]},{"id":"c1d1ca7a.783e08","type":"function","z":"e14533de.48e02","name":"create data point","func":"msg.payload = {\n    \"timestamp\": Math.floor(Date.now()/1000),\n    \"username\": \"Brent Maranzano\",\n    \"experiment\": \"test\",\n    \"value\": Math.floor(Math.random()*1000+10000)\n};\nreturn msg;","outputs":1,"noerr":0,"x":490,"y":380,"wires":[["21fb2d51.ff1ec2"]]},{"id":"738c1b6a.287a74","type":"inject","z":"72214d68.df13c4","name":"data trigger","topic":"","payload":"","payloadType":"date","repeat":"5","crontab":"","once":true,"onceDelay":"","x":290,"y":180,"wires":[["e0eb084c.27a208"]]},{"id":"e0eb084c.27a208","type":"function","z":"72214d68.df13c4","name":"create data","func":"msg.payload = {\n    \"username\": \"Brent Maranzano\",\n    \"experiment\": \"test\",\n    \"value\": Math.floor(Math.random()*1000+10000)\n};\nreturn msg;","outputs":1,"noerr":0,"x":590,"y":180,"wires":[["616115e4.ab3d7c"]]},{"id":"616115e4.ab3d7c","type":"influxdb out","z":"72214d68.df13c4","influxdb":"b56336c6.4f8bf8","name":"mydatabase","measurement":"random","precision":"","retentionPolicy":"","x":830,"y":180,"wires":[]},{"id":"f3f059f3.827e08","type":"http response","z":"e430760b.27f078","name":"http response","statusCode":"","headers":{},"x":880,"y":300,"wires":[]},{"id":"afe8c170.a1e1e","type":"function","z":"e430760b.27f078","name":"html response","func":"msg.payload = \"hello world from node-red\";\nreturn msg;","outputs":1,"noerr":0,"x":640,"y":300,"wires":[["f3f059f3.827e08","34f06841.cbfd68"]]},{"id":"bb98d5cf.452df8","type":"http in","z":"e430760b.27f078","name":"node-red endpoint","url":"/test","method":"get","upload":false,"swaggerDoc":"","x":410,"y":300,"wires":[["afe8c170.a1e1e","34f06841.cbfd68"]]},{"id":"34f06841.cbfd68","type":"debug","z":"e430760b.27f078","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":730,"y":380,"wires":[]},{"id":"eb62e24a.56bad","type":"debug","z":"e14533de.48e02","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":1170,"y":380,"wires":[]}]